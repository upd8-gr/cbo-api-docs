get:
  tags: [Suppliers]
  summary: Suppliers (list)
  description: >
    Lists suppliers (courier=false) with optional search and sorting. Paginated.
  security:
    - BearerAuth: []

  parameters:
    - name: search
      in: query
      required: false
      schema: { type: string }
      example: "Papad"

    - name: search_fields
      in: query
      required: false
      description: Comma-separated fields for OR LIKE. If field is `vat`, it searches `afm`.
      schema: { type: string }
      example: "invoice_name,company_name,vat,email"

    - name: sort_by
      in: query
      required: false
      schema:
        type: string
        enum: [id, primary_id, fname, lname, afm, email, invoice_name, company_name, created_at, updated_at]
      example: id

    - name: sort_order
      in: query
      required: false
      schema:
        type: string
        enum: [asc, desc]
      example: asc

    - name: page
      in: query
      required: false
      schema: { type: integer, minimum: 1, default: 1 }
      example: 1

    - name: page_size
      in: query
      required: false
      description: Page size (default 50, max 100).
      schema: { type: integer, minimum: 1, maximum: 100, default: 50 }
      example: 50

  responses:
    "200":
      description: OK
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/suppliers/SupplierIndexResponse.yaml
    "401": { $ref: ../../../_shared/components/responses/Unauthorized.yaml }
    "403": { $ref: ../../../_shared/components/responses/Forbidden.yaml }

post:
  tags: [Suppliers]
  summary: Supplier (create)
  security:
    - BearerAuth: []

  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: ../../components/schemas/suppliers/SupplierStore.yaml

  responses:
    "201":
      description: Created
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/suppliers/SupplierSingleResponse.yaml
    "401": { $ref: ../../../_shared/components/responses/Unauthorized.yaml }
    "403": { $ref: ../../../_shared/components/responses/Forbidden.yaml }
    "422": { $ref: ../../../_shared/components/responses/UnprocessableEntity.yaml }