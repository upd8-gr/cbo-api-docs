type: object
additionalProperties: false
properties:

  invoice_type_id:
    type: integer

  invoice_series_id:
    type: integer

  date:
    type: string
    format: date

  due_date:
    type: string
    format: date
    nullable: true

  client_id:
    type: integer

  document_type:
    type: string
    enum:
      - invoice
      - credit-invoice
      - delivery-note

  grand_total:
    type: number

  billing_address:
    $ref: ../clients/ClientAddressInput.yaml

  shipping_address:
    nullable: true
    $ref: ../clients/ClientAddressInput.yaml

  loading_address:
    nullable: true
    $ref: ../clients/ClientAddressInput.yaml

  items:
    type: array
    items:
      type: object
      properties:
        product_id: { type: integer, nullable: true }
        description: { type: string, nullable: true }
        quantity: { type: number }
        unit_measure: { type: string }
        unit_price: { type: number }
        taxes:
          type: array
          items: { type: integer }

  payment_methods:
    type: array
    nullable: true
    items:
      type: object
      properties:
        paymentMethod:
          type: integer
          enum: [1,2,3,4,6,7,8]
          description: |
            Available only when myDATA integration is enabled.

            Values:
            - 1: Domestic Payments Account
            - 2: Foreign Payments Account
            - 3: Cash
            - 4: Cheque
            - 6: Web Banking
            - 7: POS / e-POS
            - 8: IRIS Direct Payment
        paymentAmount:
          type: number
        terminal_id:
          type: integer
          nullable: true
          description: terminal_id from CBO (terminals table). Only available when paymentMethod is 7 (POS / e-POS).
        tip:
          type: number
          nullable: true
          description: Tip amount. Only available when paymentMethod is 7 (POS / e-POS).
        instalments:
          type: integer
          nullable: true
          description: Number of instalments. Only available when paymentMethod is 7 (POS / e-POS).
  terms:
    type: string
    nullable: true

  notes:
    type: string
    nullable: true

  isDraft:
    type: boolean
    nullable: true

  mydata_submit:
    type: boolean
    nullable: true

required:
  - date
  - client_id
  - document_type
  - billing_address